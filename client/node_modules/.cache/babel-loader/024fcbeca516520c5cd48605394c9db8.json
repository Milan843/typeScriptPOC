{"ast":null,"code":"import { LOGIN_SUCCESS, LOGOUT, REGISTER_SUCCESS, REGISTER_FAIL } from \"../actions/types\";\nconst initialState = {\n  isAuth: false,\n  isLoading: false,\n  user: null,\n  token: localStorage.getItem(\"token\")\n};\n\nconst userReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case LOGOUT:\n      return { ...initialState\n      };\n\n    case LOGIN_SUCCESS:\n    case REGISTER_SUCCESS:\n      localStorage.setItem(\"token\", action.payload.token || \"\");\n      return { ...state,\n        ...action.payload,\n        isAuthenticated: true,\n        isLoading: false\n      };\n\n    case REGISTER_FAIL:\n      localStorage.removeItem(\"token\");\n      return { ...state,\n        user: null,\n        isAuthenticated: false,\n        isLoading: false,\n        token: null\n      };\n\n    case USER_LOADED:\n      return { ...state,\n        isAuthenticated: true,\n        isLoading: false,\n        user: action.payload.user\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default userReducer;","map":{"version":3,"sources":["/home/milan/Milan/Projects/typescript-poc/client/src/redux/reducers/authReducer.ts"],"names":["LOGIN_SUCCESS","LOGOUT","REGISTER_SUCCESS","REGISTER_FAIL","initialState","isAuth","isLoading","user","token","localStorage","getItem","userReducer","state","action","type","setItem","payload","isAuthenticated","removeItem","USER_LOADED"],"mappings":"AAAA,SACEA,aADF,EAEEC,MAFF,EAGEC,gBAHF,EAIEC,aAJF,QAKO,kBALP;AAaA,MAAMC,YAAwB,GAAG;AAC/BC,EAAAA,MAAM,EAAE,KADuB;AAE/BC,EAAAA,SAAS,EAAE,KAFoB;AAG/BC,EAAAA,IAAI,EAAE,IAHyB;AAI/BC,EAAAA,KAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB;AAJwB,CAAjC;;AAOA,MAAMC,WAAW,GAAG,CAACC,KAAiB,GAAGR,YAArB,EAAmCS,MAAnC,KAAuD;AACzE,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKb,MAAL;AACE,aAAO,EACL,GAAGG;AADE,OAAP;;AAGF,SAAKJ,aAAL;AACA,SAAKE,gBAAL;AACEO,MAAAA,YAAY,CAACM,OAAb,CAAqB,OAArB,EAA8BF,MAAM,CAACG,OAAP,CAAeR,KAAf,IAAwB,EAAtD;AACA,aAAO,EACL,GAAGI,KADE;AAEL,WAAGC,MAAM,CAACG,OAFL;AAGLC,QAAAA,eAAe,EAAE,IAHZ;AAILX,QAAAA,SAAS,EAAE;AAJN,OAAP;;AAMF,SAAKH,aAAL;AACEM,MAAAA,YAAY,CAACS,UAAb,CAAwB,OAAxB;AACA,aAAO,EACL,GAAGN,KADE;AAELL,QAAAA,IAAI,EAAE,IAFD;AAGLU,QAAAA,eAAe,EAAE,KAHZ;AAILX,QAAAA,SAAS,EAAE,KAJN;AAKLE,QAAAA,KAAK,EAAE;AALF,OAAP;;AAOF,SAAKW,WAAL;AACE,aAAO,EACL,GAAGP,KADE;AAELK,QAAAA,eAAe,EAAE,IAFZ;AAGLX,QAAAA,SAAS,EAAE,KAHN;AAILC,QAAAA,IAAI,EAAEM,MAAM,CAACG,OAAP,CAAeT;AAJhB,OAAP;;AAMF;AACE,aAAOK,KAAP;AA/BJ;AAiCD,CAlCD;;AAoCA,eAAeD,WAAf","sourcesContent":["import {\n  LOGIN_SUCCESS,\n  LOGOUT,\n  REGISTER_SUCCESS,\n  REGISTER_FAIL,\n} from \"../actions/types\";\n\nimport { IUserRedux, actionTypes, IUser } from \"../../utils/interfaces\";\ninterface IAction {\n  type: actionTypes;\n  payload: IUser;\n}\n\nconst initialState: IUserRedux = {\n  isAuth: false,\n  isLoading: false,\n  user: null,\n  token: localStorage.getItem(\"token\"),\n};\n\nconst userReducer = (state: IUserRedux = initialState, action: IAction) => {\n  switch (action.type) {\n    case LOGOUT:\n      return {\n        ...initialState,\n      };\n    case LOGIN_SUCCESS:\n    case REGISTER_SUCCESS:\n      localStorage.setItem(\"token\", action.payload.token || \"\");\n      return {\n        ...state,\n        ...action.payload,\n        isAuthenticated: true,\n        isLoading: false,\n      };\n    case REGISTER_FAIL:\n      localStorage.removeItem(\"token\");\n      return {\n        ...state,\n        user: null,\n        isAuthenticated: false,\n        isLoading: false,\n        token: null,\n      };\n    case USER_LOADED:\n      return {\n        ...state,\n        isAuthenticated: true,\n        isLoading: false,\n        user: action.payload.user,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default userReducer;\n"]},"metadata":{},"sourceType":"module"}