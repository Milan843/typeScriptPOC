{"ast":null,"code":"import { LOGIN_SUCCESS, LOGOUT, REGISTER_SUCCESS } from '../actions/types';\nconst initialState = {\n  isAuth: false,\n  isLoading: false,\n  user: null\n};\n\nconst userReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case LOGIN_SUCCESS:\n      return {\n        user: { ...action.payload\n        },\n        isAuth: true,\n        isLoading: false\n      };\n\n    case LOGOUT:\n      return { ...initialState\n      };\n\n    case REGISTER_SUCCESS:\n      localStorage.setItem('token', action.payload.token || \"\");\n      return { ...state,\n        ...action.payload,\n        isAuthenticated: true,\n        isLoading: false\n      };\n\n    case REGISTER_FAIL:\n      localStorage.removeItem('token');\n      return { ...state,\n        user: null,\n        isAuthenticated: false,\n        isLoading: false,\n        token: null\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default userReducer;","map":{"version":3,"sources":["/home/milan/Milan/Projects/typescript-poc/client/src/redux/reducers/authReducer.ts"],"names":["LOGIN_SUCCESS","LOGOUT","REGISTER_SUCCESS","initialState","isAuth","isLoading","user","userReducer","state","action","type","payload","localStorage","setItem","token","isAuthenticated","REGISTER_FAIL","removeItem"],"mappings":"AAAA,SACIA,aADJ,EAEEC,MAFF,EAGEC,gBAHF,QAIS,kBAJT;AAYE,MAAMC,YAAuB,GAAG;AAC9BC,EAAAA,MAAM,EAAE,KADsB;AAE9BC,EAAAA,SAAS,EAAE,KAFmB;AAG9BC,EAAAA,IAAI,EAAE;AAHwB,CAAhC;;AAMA,MAAMC,WAAW,GAAE,CAACC,KAAgB,GAAGL,YAApB,EAAkCM,MAAlC,KAAqD;AACtE,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKV,aAAL;AACE,aAAO;AACLM,QAAAA,IAAI,EAAE,EAAE,GAAGG,MAAM,CAACE;AAAZ,SADD;AAELP,QAAAA,MAAM,EAAE,IAFH;AAGLC,QAAAA,SAAS,EAAE;AAHN,OAAP;;AAKF,SAAKJ,MAAL;AACE,aAAO,EACL,GAAGE;AADE,OAAP;;AAGA,SAAKD,gBAAL;AACEU,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,MAAM,CAACE,OAAP,CAAeG,KAAf,IAAsB,EAApD;AACA,aAAO,EACL,GAAGN,KADE;AAEL,WAAGC,MAAM,CAACE,OAFL;AAGLI,QAAAA,eAAe,EAAE,IAHZ;AAILV,QAAAA,SAAS,EAAE;AAJN,OAAP;;AAMA,SAAKW,aAAL;AACEJ,MAAAA,YAAY,CAACK,UAAb,CAAwB,OAAxB;AACA,aAAO,EACL,GAAGT,KADE;AAELF,QAAAA,IAAI,EAAE,IAFD;AAGLS,QAAAA,eAAe,EAAE,KAHZ;AAILV,QAAAA,SAAS,EAAE,KAJN;AAKLS,QAAAA,KAAK,EAAE;AALF,OAAP;;AAON;AACE,aAAON,KAAP;AA7BJ;AA+BD,CAhCD;;AAmCA,eAAeD,WAAf","sourcesContent":["import {\n    LOGIN_SUCCESS,\n  LOGOUT,\n  REGISTER_SUCCESS\n  } from '../actions/types';\n  \n  import { IUserRedux, actionTypes, IUser } from \"../../utils/interfaces\";\n  interface IAction {\n    type: actionTypes;\n    payload: IUser;\n  }\n  \n  const initialState:IUserRedux = {\n    isAuth: false,\n    isLoading: false,\n    user: null,\n  };\n  \n  const userReducer= (state:IUserRedux = initialState, action: IAction) =>{\n    switch (action.type) {\n      case LOGIN_SUCCESS:\n        return {\n          user: { ...action.payload },\n          isAuth: true,\n          isLoading: false\n        };\n      case LOGOUT:\n        return {\n          ...initialState\n        };\n        case REGISTER_SUCCESS:\n          localStorage.setItem('token', action.payload.token||\"\");\n          return {\n            ...state,\n            ...action.payload,\n            isAuthenticated: true,\n            isLoading: false\n          };\n          case REGISTER_FAIL:\n            localStorage.removeItem('token');\n            return {\n              ...state,\n              user: null,\n              isAuthenticated: false,\n              isLoading: false,\n              token: null\n            };\n      default:\n        return state;\n    }\n  }\n  \n  \n  export default userReducer"]},"metadata":{},"sourceType":"module"}